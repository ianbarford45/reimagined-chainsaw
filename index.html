<!DOCTYPE html>
<html>
<head>
  <title>Glide API Test</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f9f9f9; }
    button { padding: 0.5rem 1rem; font-size: 1rem; }
    #status { margin-top: 1rem; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Test: Update Glide Event Title</h2>
  <button onclick="updateGlide()">Update Event</button>
  <div id="status">Waiting...</div>

  <script>
    async function updateGlide() {
      const rowId = "yg0d2uNVSk6tCXM6u51zoQ";
      const token = "b23fa187-4c82-44d9-b622-9eb5d5ff423b";
      const appId = "0Fhgz7rIDihGrTm8PrPy";
      const tableId = "native-table-o7RPLBJPYK7IMy94ePd1";

      const payload = {
        x3zqw: "üöÄ Test from GitHub"
      };

      const url = `https://api.glideapp.io/api/function/0Fhgz7rIDihGrTm8PrPy/tables/native-table-o7RPLBJPYK7IMy94ePd1/rows/yg0d2uNVSk6tCXM6u51zoQ`;

      try {
        const res = await fetch(url, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${token}`
          },
          body: JSON.stringify(payload)
        });

        if (!res.ok) throw new Error("Failed to update");
        document.getElementById("status").innerText = "‚úÖ Success! Row updated in Glide";
      } catch (err) {
        console.error(err);
        document.getElementById("status").innerText = "‚ùå Failed to update: " + err.message;
      }
    }
  </script>
</body>
</html>
